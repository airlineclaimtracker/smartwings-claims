<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Still Waiting - Smartwings Luggage Damage Scandal</title>
    <meta name="description" content="Create viral cards exposing Smartwings' systematic luggage damage fraud.">
    
    <!-- Social Media Meta Tags -->
    <meta property="og:title" content="Still Waiting - Smartwings Luggage Damage Scandal">
    <meta property="og:description" content="653+ days of silence on destroyed luggage claims. Is this fraud?">
    <meta property="og:type" content="website">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#e63946">
    
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            color: #333;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, #e63946, #d63031);
            color: white;
            padding: 40px 20px;
            text-align: center;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 800;
        }
        
        .header p {
            margin: 15px 0 0;
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .form-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .form-section h2 {
            color: #1d3557;
            margin-top: 0;
            font-size: 1.3rem;
            font-weight: 700;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .form-item {
            display: flex;
            flex-direction: column;
        }
        
        label {
            color: #1d3557;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.95rem;
        }
        
        input, select {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #e63946;
        }
        
        .btn {
            background: linear-gradient(135deg, #e63946, #d63031);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(230, 57, 70, 0.3);
        }
        
        .upload-area {
            border: 3px dashed #ddd;
            border-radius: 15px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #f8f9fa;
        }
        
        .upload-area:hover {
            border-color: #e63946;
            background: rgba(230, 57, 70, 0.05);
        }
      /* Updated scandal card styles */
        .claim-card {
            width: 600px;
            height: 600px;
            background: linear-gradient(135deg, #000000, #1a0000);
            color: white;
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            margin: 0 auto;
        }
        
        .claim-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 15px;
            background: linear-gradient(90deg, #e63946, #dc3545, #e63946);
            animation: pulse-red 2s infinite;
        }
        
        @keyframes pulse-red {
            0% { filter: brightness(1); }
            50% { filter: brightness(1.3); }
            100% { filter: brightness(1); }
        }
        
        .days-count {
            font-size: 5.5rem;
            font-weight: 900;
            color: #e63946;
            text-shadow: 4px 4px 0px #000;
            line-height: 0.8;
            margin-bottom: 15px;
            animation: shock-pulse 3s infinite;
        }
        
        @keyframes shock-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.03); }
            100% { transform: scale(1); }
        }
        
        .airline-brand {
            font-size: 3.2rem;
            font-weight: 800;
            color: #fff;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 0.15em;
        }
        
        .damage-type {
            font-size: 1.4rem;
            color: #ff6b6b;
            font-weight: 700;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }
        
        .scandal-message {
            font-size: 2rem;
            color: #FFD93D;
            font-weight: 800;
            margin-bottom: 25px;
            text-transform: uppercase;
            line-height: 1.2;
        }
        
        .claim-evidence {
            background: rgba(230, 57, 70, 0.25);
            border: 3px solid #e63946;
            padding: 25px 35px;
            border-radius: 15px;
            margin-bottom: 25px;
            backdrop-filter: blur(10px);
            position: relative;
        }
        
        .claim-evidence::before {
            content: '💀';
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2rem;
            background: #000;
            padding: 5px 10px;
            border-radius: 50%;
        }
        
        .amount-tragic {
            font-size: 2.5rem;
            font-weight: 900;
            color: #FFD93D;
            display: block;
            margin-bottom: 8px;
        }
        
        .status-dead {
            font-size: 1.1rem;
            color: #fff;
            text-transform: uppercase;
            font-weight: 700;
            letter-spacing: 0.1em;
        }
        
        .pattern-indicator {
            font-size: 1rem;
            color: #ff6b6b;
            font-weight: 600;
            margin-bottom: 20px;
            text-transform: uppercase;
        }
        
        .expose-question {
            font-size: 1.8rem;
            color: #fff;
            font-weight: 700;
            margin-bottom: 15px;
            text-transform: uppercase;
        }
        
        .viral-hashtags {
            font-size: 1.2rem;
            color: #FFD93D;
            font-weight: 700;
            margin-bottom: 30px;
        }
        
        .damage-photo {
            position: absolute;
            top: 30px;
            right: 30px;
            width: 140px;
            height: 105px;
            border-radius: 12px;
            overflow: hidden;
            border: 4px solid #FFD93D;
            opacity: 0.95;
            transform: rotate(-5deg);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .damage-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .damage-photo::after {
            content: '💔 DESTROYED';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(220, 53, 69, 0.9);
            color: white;
            padding: 4px;
            font-size: 0.7rem;
            font-weight: 700;
            text-align: center;
        }
      .photo-preview {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
        }
        
        .photo-controls {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        
        .photo-btn {
            background: #6c757d;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s;
        }
        
        .photo-btn:hover {
            background: #5a6268;
        }
        
        .photo-btn.remove {
            background: #dc3545;
        }
        
        .photo-btn.remove:hover {
            background: #c82333;
        }
        
        .share-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-top: 30px;
        }
        
        .share-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .share-btn {
            padding: 15px 20px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background: white;
            color: #333;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .share-btn.twitter {
            border-color: #1da1f2;
            color: #1da1f2;
        }
        
        .share-btn.twitter:hover {
            background: #1da1f2;
            color: white;
        }
        
        .share-btn.facebook {
            border-color: #4267b2;
            color: #4267b2;
        }
        
        .share-btn.facebook:hover {
            background: #4267b2;
            color: white;
        }
        
        .share-btn.whatsapp {
            border-color: #25d366;
            color: #25d366;
        }
        
        .share-btn.whatsapp:hover {
            background: #25d366;
            color: white;
        }
        
        .share-btn.download {
            border-color: #28a745;
            color: #28a745;
        }
        
        .share-btn.download:hover {
            background: #28a745;
            color: white;
        }
        
        .success-message {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
        }
        
        .success-message.show {
            display: block;
        }
        
        @media (max-width: 768px) {
            .claim-card {
                width: 100%;
                max-width: 500px;
                height: 500px;
                padding: 30px;
            }
            
            .container {
                padding: 15px;
            }
            
            .days-count {
                font-size: 4rem;
            }
            
            .alien-brand {
                font-size: 2.3rem;
            }
            
            .scandal-message {
                font-size: 1.5rem;
            }
            
            .damage-photo {
                width: 100px;
                height: 75px;
                top: 20px;
                right: 20px;
            }
            
            .amount-tragic {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🚨 Smartwings Luggage Fraud Exposed</h1>
            <p>Create viral cards to expose systematic luggage damage scam</p>
        </div>
        
        <div class="form-section">
            <h2>📝 Document Your Luggage Damage</h2>
            <form id="claim-form">
                <div class="form-grid">
                    <div class="form-item">
                        <label for="submission-month">When was your luggage damaged?</label>
                        <select id="submission-month" required>
                            <option value="">Select Month</option>
                            <option value="1">January</option>
                            <option value="2">February</option>
                            <option value="3">March</option>
                            <option value="4">April</option>
                            <option value="5">May</option>
                            <option value="6">June</option>
                            <option value="7">July</option>
                            <option value="8">August</option>
                            <option value="9">September</option>
                            <option value="10">October</option>
                            <option value="11">November</option>
                            <option value="12">December</option>
                        </select>
                    </div>
                    
                    <div class="form-item">
                        <label for="submission-year">Year of Damage</label>
                        <select id="submission-year" required>
                            <option value="">Select Year</option>
                        </select>
                    </div>
                    
                    <div class="form-item">
                        <label for="amount">Damage Value (€)</label>
                        <input type="number" id="amount" required min="1" placeholder="e.g. 1200">
                    </div>
                </div>
                
                <button type="submit" class="btn">🚀 Generate Fraud Exposure Card</button>
            </form>
        </div>
        
        <div class="form-section">
            <h2>📸 Upload Damage Evidence</h2>
            <p style="color: #666; font-size: 0.95rem; margin-bottom: 20px;">
                <strong>Show the world what Smartwings did to your luggage</strong><br>
                Photos of destruction increase shares by 400%
            </p>
            <div class="upload-area" id="upload-area">
                <div class="upload-icon" style="font-size: 3rem; margin-bottom: 10px;">📷</div>
                <p><strong>Drop your damage photos here</strong> or click to select</p>
                <p style="font-size: 0.9rem; color: #666;">JPG, PNG supported • Max 5MB • Show the damage!</p>
                <input type="file" id="photo-input" accept="image/*" style="display: none;">
            </div>
            
            <div id="photo-preview-section" style="display: none; margin-top: 20px;">
                <img id="photo-preview" class="photo-preview">
                <div class="photo-controls">
                    <button class="photo-btn" onclick="rotatePhoto()">🔄 Rotate</button>
                    <button class="photo-btn" onclick="adjustPhoto()">🎨 Brighten</button>
                    <button class="photo-btn remove" onclick="removePhoto()">❌ Remove</button>
                </div>
            </div>
        </div>
        
        <div id="card-section" style="display: none;">
            <div class="claim-card" id="claim-card">
                <div class="damage-photo" id="card-photo-container" style="display: none;">
                    <img id="card-photo" alt="Luggage damage evidence">
                </div>
                
                <div class="days-count" id="days-count">0</div>
                <div class="airline-brand">SMARTWINGS</div>
                <div class="damage-type">DESTROYED MY LUGGAGE</div>
                <div class="scandal-message">DAYS OF SILENCE</div>
                
                <div class="claim-evidence">
                    <span class="amount-tragic" id="amount-value">€0</span>
                    <div class="status-dead">CLAIM IGNORED</div>
                </div>
                
                <div class="pattern-indicator">
                    🚨 MULTIPLE VICTIMS REPORT SAME PATTERN
                </div>
                
                <div class="expose-question">IS THIS A SCAM?</div>
                <div class="viral-hashtags">#SMARTWINGSSCAM #LUGGAGEFRAUD</div>
            </div>
        </div>
        
        <div class="share-section" id="share-section" style="display: none;">
            <h2>📢 Expose This Fraud</h2>
            <p style="color: #666;">Share your scandal card and warn others about Smartwings' luggage scam</p>
            
            <div class="share-grid">
                <button class="share-btn twitter" onclick="shareToTwitter()">
                    <span>🐦</span> Expose on Twitter/X
                </button>
                <button class="share-btn facebook" onclick="shareToFacebook()">
                    <span>📘</span> Warn on Facebook
                </button>
                <button class="share-btn whatsapp" onclick="shareToWhatsApp()">
                    <span>💬</span> Alert on WhatsApp
                </button>
                <button class="share-btn download" onclick="downloadCard()">
                    <span>💾</span> Download Evidence
                </button>
            </div>
            
            <div class="success-message" id="success-message"></div>
            
            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 20px; font-family: monospace; font-size: 0.9rem; line-height: 1.5;" id="share-message"></div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script>
        let claimData = {};
        let currentPhoto = null;
        let currentRotation = 0;
        let currentBrightness = 100;
        
        window.addEventListener('DOMContentLoaded', function() {
            initializeYears();
            setupEventListeners();
        });
        
        function initializeYears() {
            const yearSelect = document.getElementById('submission-year');
            const currentYear = new Date().getFullYear();
            
            for (let year = currentYear; year >= currentYear - 5; year--) {
                const option = document.createElement('option');
                option.value = year;
                option.textContent = year;
                yearSelect.appendChild(option);
            }
        }
        
        function setupEventListeners() {
            document.getElementById('claim-form').addEventListener('submit', handleFormSubmit);
            
            const uploadArea = document.getElementById('upload-area');
            const photoInput = document.getElementById('photo-input');
            
            uploadArea.addEventListener('click', () => photoInput.click());
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.style.borderColor = '#e63946';
                uploadArea.style.background = 'rgba(230, 57, 70, 0.1)';
            });
            uploadArea.addEventListener('dragleave', (e) => {
                e.preventDefault();
                uploadArea.style.borderColor = '#ddd';
                uploadArea.style.background = '#f8f9fa';
            });
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.style.borderColor = '#ddd';
                uploadArea.style.background = '#f8f9fa';
                
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    processFile(files[0]);
                }
            });
            
            photoInput.addEventListener('change', (e) => {
                if (e.target.files.length > 0) {
                    processFile(e.target.files[0]);
                }
            });
        }
        
        function handleFormSubmit(e) {
            e.preventDefault();
            
            const month = document.getElementById('submission-month').value;
            const year = document.getElementById('submission-year').value;
            const amount = document.getElementById('amount').value;
            
            if (!month || !year || !amount) {
                alert('Please fill in all fields to expose the fraud');
                return;
            }
            
            const days = calculateDaysSince(month, year);
            const submissionDate = new Date(year, month - 1, 1).toLocaleDateString('en-US', {
                month: 'long',
                year: 'numeric'
            });
            
            claimData = { days, amount, submissionDate };
            updateCard();
            showCard();
        }
        
        function calculateDaysSince(month, year) {
            const submissionDate = new Date(year, month - 1, 1);
            const today = new Date();
            const diffTime = Math.abs(today - submissionDate);
            return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
        }
        
        function updateCard() {
            document.getElementById('days-count').textContent = claimData.days;
            document.getElementById('amount-value').textContent = `€${claimData.amount}`;
            
            const message = generateScandalMessage();
            document.getElementById('share-message').textContent = message;
        }
        
        function showCard() {
            document.getElementById('card-section').style.display = 'block';
            document.getElementById('share-section').style.display = 'block';
            document.getElementById('card-section').scrollIntoView({ behavior: 'smooth' });
        }
        
        function processFile(file) {
            if (!file.type.match('image.*')) {
                alert('Please select an image file showing the damage');
                return;
            }
            
            if (file.size > 5 * 1024 * 1024) {
                alert('File size must be less than 5MB');
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                currentPhoto = e.target.result;
                showPhotoPreview();
                updateCardPhoto();
            };
            reader.readAsDataURL(file);
        }
        
        function showPhotoPreview() {
            const preview = document.getElementById('photo-preview');
            const previewSection = document.getElementById('photo-preview-section');
            
            preview.src = currentPhoto;
            previewSection.style.display = 'block';
        }
        
        function updateCardPhoto() {
            const cardPhoto = document.getElementById('card-photo');
            const cardPhotoContainer = document.getElementById('card-photo-container');
            
            cardPhoto.src = currentPhoto;
            cardPhotoContainer.style.display = 'block';
            
            applyImageTransforms();
        }
        
        function rotatePhoto() {
            currentRotation = (currentRotation + 90) % 360;
            applyImageTransforms();
        }
        
        function adjustPhoto() {
            currentBrightness = currentBrightness === 100 ? 130 : 100;
            applyImageTransforms();
        }
        
        function removePhoto() {
            currentPhoto = null;
            currentRotation = 0;
            currentBrightness = 100;
            
            document.getElementById('photo-preview-section').style.display = 'none';
            document.getElementById('photo-input').value = '';
            
            const cardPhoto = document.getElementById('card-photo');
            const cardPhotoContainer = document.getElementById('card-photo-container');
            
            cardPhotoContainer.style.display = 'none';
            cardPhoto.src = '';
        }
        
        function applyImageTransforms() {
            const preview = document.getElementById('photo-preview');
            const cardPhoto = document.getElementById('card-photo');
            
            const transform = `rotate(${currentRotation}deg)`;
            const filter = `brightness(${currentBrightness}%)`;
            
            preview.style.transform = transform;
            preview.style.filter = filter;
            cardPhoto.style.transform = transform;
            cardPhoto.style.filter = filter;
        }
        
        function generateScandalMessage() {
            const url = window.location.href;
            return `🚨 SMARTWINGS LUGGAGE SCANDAL EXPOSED 🚨

✈️ They DESTROYED my luggage
💰 €${claimData.amount} damage claim 
📅 ${claimData.days} DAYS OF COMPLETE SILENCE
🤐 ZERO response, ZERO compensation
👥 Multiple victims report IDENTICAL pattern

IS THIS SYSTEMATIC FRAUD?

#SmartwingsScam #LuggageFraud #AirlineAccountability #PassengerRights

Expose this scandal: ${url}`;
        }
      async function shareToTwitter() {
            const btn = document.querySelector('.share-btn.twitter');
            btn.style.opacity = '0.7';
            btn.style.pointerEvents = 'none';
            
            try {
                const message = generateScandalMessage();
                const cardImage = await generateCardImage();
                
                const twitterMessage = `🚨 SMARTWINGS DESTROYED MY LUGGAGE
€${claimData.amount} claim - ${claimData.days} DAYS OF SILENCE
Multiple victims report same pattern
IS THIS A SCAM? @SmartwingsGroup
#SmartwingsScam #LuggageFraud`;
                
                if (navigator.clipboard && cardImage) {
                    try {
                        await navigator.clipboard.write([
                            new ClipboardItem({ 'image/png': cardImage })
                        ]);
                        showSuccess('🐦 Twitter opened! Fraud evidence copied to clipboard - paste it to expose them!');
                    } catch (e) {
                        showSuccess('🐦 Twitter opened! Download the evidence and attach it to expose the fraud!');
                    }
                }
                
                const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(twitterMessage)}`;
                window.open(twitterUrl, '_blank');
            } catch (error) {
                showSuccess('Error preparing fraud exposure. Please try again.');
            } finally {
                btn.style.opacity = '1';
                btn.style.pointerEvents = 'auto';
            }
        }
        
        async function shareToFacebook() {
            const btn = document.querySelector('.share-btn.facebook');
            btn.style.opacity = '0.7';
            btn.style.pointerEvents = 'none';
            
            try {
                const message = `⚠️ SMARTWINGS LUGGAGE FRAUD ALERT ⚠️

They DESTROYED my luggage worth €${claimData.amount}
Filed claim ${claimData.days} days ago
Response: COMPLETE SILENCE

Multiple passengers report IDENTICAL experiences
This isn't poor service - it's SYSTEMATIC FRAUD!

Share to warn others!
#SmartwingsScam #LuggageFraud`;
                
                const cardImage = await generateCardImage();
                
                if (navigator.share && cardImage) {
                    try {
                        const file = new File([cardImage], 'smartwings-fraud-evidence.png', { type: 'image/png' });
                        await navigator.share({
                            text: message,
                            files: [file]
                        });
                        showSuccess('✅ Scandal successfully shared! Others warned!');
                        return;
                    } catch (e) {
                        console.log('Native share failed');
                    }
                }
                
                if (navigator.clipboard) {
                    try {
                        await navigator.clipboard.writeText(message);
                        showSuccess('📘 Facebook opened! Fraud warning copied to clipboard - paste to warn others!');
                    } catch (e) {
                        showSuccess('📘 Facebook opened! Copy the scandal message below and warn everyone!');
                    }
                }
                
                window.open('https://www.facebook.com/', '_blank');
            } catch (error) {
                showSuccess('Error preparing Facebook fraud warning. Please try again.');
            } finally {
                btn.style.opacity = '1';
                btn.style.pointerEvents = 'auto';
            }
        }
        
        async function shareToWhatsApp() {
            const btn = document.querySelector('.share-btn.whatsapp');
            btn.style.opacity = '0.7';
            btn.style.pointerEvents = 'none';
            
            try {
                const const message = `🚨 SMARTWINGS FRAUD ALERT 🚨

They DESTROYED my luggage!
€${claimData.amount} claim - ${claimData.days} days of SILENCE

Multiple victims report same pattern
IS THIS A SCAM?

Spread the word - warn everyone!
#SmartwingsScam`;
               
               const cardImage = await generateCardImage();
               
               if (navigator.share && cardImage) {
                   try {
                       const file = new File([cardImage], 'smartwings-fraud.png', { type: 'image/png' });
                       await navigator.share({
                           text: message,
                           files: [file]
                       });
                       showSuccess('✅ WhatsApp fraud alert sent! Contacts warned!');
                       return;
                   } catch (e) {
                       console.log('Native share failed');
                   }
               }
               
               downloadCard();
               
               const whatsappUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(message)}`;
               window.open(whatsappUrl, '_blank');
               
               showSuccess('💬 WhatsApp opened! Evidence downloaded - attach the fraud proof to your message!');
           } catch (error) {
               showSuccess('Error preparing WhatsApp fraud alert. Please try again.');
           } finally {
               btn.style.opacity = '1';
               btn.style.pointerEvents = 'auto';
           }
       }
       
       async function downloadCard() {
           const btn = document.querySelector('.share-btn.download');
           btn.style.opacity = '0.7';
           btn.style.pointerEvents = 'none';
           
           try {
               const cardImage = await generateCardImage();
               
               const link = document.createElement('a');
               link.download = `smartwings-fraud-evidence-day-${claimData.days}.png`;
               link.href = URL.createObjectURL(cardImage);
               
               document.body.appendChild(link);
               link.click();
               document.body.removeChild(link);
               
               showSuccess('💾 Fraud evidence downloaded! Share everywhere to expose them!');
           } catch (error) {
               showSuccess('Error downloading evidence. Please try again.');
           } finally {
               btn.style.opacity = '1';
               btn.style.pointerEvents = 'auto';
           }
       }
       
       async function generateCardImage() {
           const cardElement = document.getElementById('claim-card');
           
           return new Promise((resolve, reject) => {
               html2canvas(cardElement, {
                   scale: 2,
                   backgroundColor: '#000000',
                   useCORS: true,
                   allowTaint: true
               }).then(canvas => {
                   canvas.toBlob(resolve, 'image/png', 0.9);
               }).catch(reject);
           });
       }
       
       function showSuccess(message) {
           const successEl = document.getElementById('success-message');
           successEl.textContent = message;
           successEl.classList.add('show');
           
           setTimeout(() => {
               successEl.classList.remove('show');
           }, 8000);
       }
   </script>
</body>
</html>
